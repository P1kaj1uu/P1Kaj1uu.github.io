"use strict";var searchFunc=function(t,a,s){$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),r=document.getElementById(a),n=document.getElementById(s);r.addEventListener("input",function(){var f='<ul class="search-result-list">',h=this.value.trim().toLowerCase().split(/[\s\-]+/);if(n.innerHTML="",!(this.value.trim().length<=0)){var m=1;e.forEach(function(t){var r=!0,n=t.title.trim().toLowerCase(),a=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),e=t.url,s=-1,i=-1,c=-1;if(""!=n&&""!=a&&h.forEach(function(t,e){s=n.indexOf(t),i=a.indexOf(t),s<0&&i<0?r=!1:(i<0&&(i=0),0==e&&(c=i))}),r){f+="<li><a href='"+e+"' class='search-result-title'>"+String(m)+". "+n+"</a>",m+=1;var l=t.content.trim().replace(/<[^>]+>/g,"");if(0<=c){var u=c-20;u<0&&(u=0);var o=l.substr(u,100);h.forEach(function(t){var e=new RegExp(t,"gi");o=o.replace(e,'<em class="search-keyword">'+t+"</em>")}),f+='<p class="search-result">'+o+"...</p>"}f+="</li>"}}),f+="</ul>",f='<p class="search-result-summary">共找到'+String(m-1)+"条结果</p>"+f,n.innerHTML=f}})}})};